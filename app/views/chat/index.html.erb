<h1>Chat</h1>

<ul id="chat_area">
</ul>

<input id="comment" type="text">
<input id="send" type="button" value="send">

<script>
  var ws_rails = new WebSocketRails("192.168.0.129:3000/websocket");
  
  // receive message
  ws_rails.bind("websocket_chat", function(message){
    console.log(message);

    var message_li = document.createElement('li');
    message_li.textContent = message;

    document.getElementById("chat_area").appendChild(message_li);
  });

  // send message
  document.getElementById("send").onclick = function(){
    var comment = document.getElementById("comment").value;

    console.log(comment);
    ws_rails.trigger("websocket_chat", comment);
  }
</script>

